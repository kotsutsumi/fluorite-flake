---
title: ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
description: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•ã¨æˆ¦ç•¥
---

# ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€å“è³ªã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã«è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã‚’çµ„ã¿åˆã‚ã›ã¦ã„ã¾ã™ã€‚

## ğŸ“‹ ãƒ†ã‚¹ãƒˆã®ç¨®é¡

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**ç›®çš„**: å€‹ã€…ã®é–¢æ•°ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•ä½œã‚’æ¤œè¨¼

**ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼**: Vitest + React Testing Library

**å¯¾è±¡ã‚¢ãƒ—ãƒª**: web, backend, docs, mobile

### E2Eãƒ†ã‚¹ãƒˆ

**ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œãƒ•ãƒ­ãƒ¼ã‚’ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã§æ¤œè¨¼

**ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**:
- **Web/Backend/Docs**: Playwright
- **Mobile**: Maestro

## ğŸ§ª ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

### å…¨ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

```bash
pnpm test
```

### ã‚¢ãƒ—ãƒªã”ã¨ã®ãƒ†ã‚¹ãƒˆ

```bash
# Web ã‚¢ãƒ—ãƒª
pnpm --filter=web test:unit

# Backend ã‚¢ãƒ—ãƒª
pnpm --filter=backend test:unit

# Docs ã‚¢ãƒ—ãƒª
pnpm --filter=docs test:unit

# Mobile ã‚¢ãƒ—ãƒª
pnpm --filter=mobile test:unit
```

### ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰

```bash
pnpm --filter=web test:watch
```

ãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’ç›£è¦–ã—ã€è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆã‚’å†å®Ÿè¡Œã—ã¾ã™ã€‚

### UI ãƒ¢ãƒ¼ãƒ‰

```bash
pnpm --filter=web test:ui
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:51204 ãŒé–‹ãã€ãƒ†ã‚¹ãƒˆçµæœã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ç¢ºèªã§ãã¾ã™ã€‚

### ã‚«ãƒãƒ¬ãƒƒã‚¸

```bash
pnpm --filter=web test:unit --coverage
```

ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆãŒ `coverage/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

## ğŸ­ E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ

### Playwrightï¼ˆWeb/Backend/Docsï¼‰

```bash
# E2E ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
pnpm --filter=web test:e2e

# UI ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
pnpm --filter=web test:e2e:ui

# ãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºã‚ã‚Šã§å®Ÿè¡Œ
pnpm --filter=web test:e2e:headed

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
pnpm --filter=web test:e2e:debug
```

### Maestroï¼ˆMobileï¼‰

```bash
# ã™ã¹ã¦ã®ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
maestro test apps/mobile/.maestro/

# ç‰¹å®šã®ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
maestro test apps/mobile/.maestro/login-flow.yaml
```

## ğŸ“ ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä¾‹

```typescript
// apps/web/tests/unit/components/Button.test.tsx
import { render, screen } from '@testing-library/react';
import { describe, expect, it } from 'vitest';
import { Button } from '@/components/Button';

describe('Button', () => {
  it('renders with text', () => {
    render(<Button>Click me</Button>);
    expect(screen.getByText('Click me')).toBeInTheDocument();
  });

  it('calls onClick when clicked', async () => {
    const onClick = vi.fn();
    render(<Button onClick={onClick}>Click me</Button>);

    await userEvent.click(screen.getByText('Click me'));
    expect(onClick).toHaveBeenCalledOnce();
  });
});
```

### E2Eãƒ†ã‚¹ãƒˆã®ä¾‹ï¼ˆPlaywrightï¼‰

```typescript
// apps/web/tests/e2e/login.test.ts
import { expect, test } from '@playwright/test';

test('user can log in', async ({ page }) => {
  await page.goto('http://localhost:3000');

  await page.getByRole('link', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' }).click();
  await page.getByLabel('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹').fill('test@example.com');
  await page.getByLabel('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰').fill('password123');
  await page.getByRole('button', { name: 'ãƒ­ã‚°ã‚¤ãƒ³' }).click();

  await expect(page.getByText('ã‚ˆã†ã“ã')).toBeVisible();
});
```

### E2Eãƒ†ã‚¹ãƒˆã®ä¾‹ï¼ˆMaestroï¼‰

```yaml
# apps/mobile/.maestro/login-flow.yaml
appId: com.yourcompany.mobile
---
- launchApp
- tapOn: "ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³"
- inputText: "test@example.com"
- tapOn: "æ¬¡ã¸"
- inputText: "password123"
- tapOn: "ãƒ­ã‚°ã‚¤ãƒ³"
- assertVisible: "ãƒ›ãƒ¼ãƒ ç”»é¢"
```

## ğŸ¯ ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

**ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**:
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
- ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
- UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆå«ã‚€ï¼‰
- API ãƒ«ãƒ¼ãƒˆï¼ˆãƒ¢ãƒƒã‚¯ä½¿ç”¨ï¼‰

**ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Š

### E2Eãƒ†ã‚¹ãƒˆ

**ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä¸»è¦ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã€ç™»éŒ²ã€æŠ•ç¨¿ãªã©ï¼‰
- ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹ï¼ˆè³¼å…¥ã€æ±ºæ¸ˆãªã©ï¼‰
- ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶äº’æ›æ€§ï¼ˆPlaywrightï¼‰

**ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: ä¸»è¦ãƒ•ãƒ­ãƒ¼ã®100%

## ğŸš¨ CI/CDã§ã®ãƒ†ã‚¹ãƒˆ

### GitHub Actions

```yaml
# .github/workflows/test.yml
name: Test

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: pnpm/action-setup@v2
      - uses: actions/setup-node@v3
        with:
          node-version: 22
          cache: 'pnpm'

      - run: pnpm install
      - run: pnpm test
      - run: pnpm test:e2e
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆ

### Vitest UI

```bash
pnpm --filter=web test:ui
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ†ã‚¹ãƒˆçµæœã‚’è¦–è¦šçš„ã«ç¢ºèªã§ãã¾ã™ã€‚

### Playwright ãƒ¬ãƒãƒ¼ãƒˆ

```bash
pnpm --filter=web test:e2e
npx playwright show-report
```

HTML ãƒ¬ãƒãƒ¼ãƒˆãŒç”Ÿæˆã•ã‚Œã€ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¾ã™ã€‚

## ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ãƒ†ã‚¹ãƒˆã‚’æ›¸ãç¿’æ…£**:
   - æ–°æ©Ÿèƒ½ã®å®Ÿè£…æ™‚ã«ãƒ†ã‚¹ãƒˆã‚‚ä½œæˆ
   - ãƒã‚°ä¿®æ­£æ™‚ã«å›å¸°ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 

2. **ãƒ†ã‚¹ãƒˆã®ç‹¬ç«‹æ€§**:
   - ãƒ†ã‚¹ãƒˆé–“ã§çŠ¶æ…‹ã‚’å…±æœ‰ã—ãªã„
   - å„ãƒ†ã‚¹ãƒˆã¯ç‹¬ç«‹ã—ã¦å®Ÿè¡Œå¯èƒ½

3. **é©åˆ‡ãªãƒ†ã‚¹ãƒˆç²’åº¦**:
   - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: ç´°ã‹ã„ç²’åº¦
   - E2Eãƒ†ã‚¹ãƒˆ: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å…¨ä½“

4. **ãƒ¢ãƒƒã‚¯ã®æ´»ç”¨**:
   - å¤–éƒ¨APIã¯ãƒ¢ãƒƒã‚¯
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯ãƒ†ã‚¹ãƒˆç”¨ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹

5. **CI/CDã®çµ±åˆ**:
   - PRä½œæˆæ™‚ã«è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
   - mainãƒãƒ¼ã‚¸å‰ã«å¿…é ˆãƒã‚§ãƒƒã‚¯

## ğŸ“š é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- **[ã‚³ãƒãƒ³ãƒ‰ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](/development/commands)** - ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰ã®è©³ç´°
- **[Lint ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ](/development/linting)** - ã‚³ãƒ¼ãƒ‰å“è³ªã®ç¶­æŒ
- **[ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](/development/troubleshooting)** - ãƒ†ã‚¹ãƒˆé–¢é€£ã®å•é¡Œè§£æ±º
