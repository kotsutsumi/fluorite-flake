# Repository Guidelines

## Project Structure & Module Organization
- `src/cli.ts` wires the Commander CLI and chalk output; keep side-effectful command handlers and prompt logic here.
- `src/index.ts` exports reusable helpers such as `greet` and `rainbow`; add any library-facing utilities to this module and re-export them from `src/index.ts`.
- `src/` also hosts shared helpers and future `*.test.ts` files; avoid coupling CLI code into reusable modules.
- `scripts/` contains maintenance tooling (for example `install-global.sh` for local global installs); prefer adding new automation here.
- `dist/` is generated by `pnpm build`; never edit compiled artifacts directly.

## Build, Test, and Development Commands
- `pnpm install` sets up dependencies for Node 18+.
- `pnpm dev` runs the CLI via `tsx src/cli.ts` with auto-reload for rapid iteration.
- `pnpm build` compiles TypeScript into `dist/` and emits declaration files; run before packaging or publishing.
- `pnpm lint`, `pnpm check`, and `pnpm format` invoke Biomeâ€™s lint, analyzer, and formatter suites; code must be clean before review.
- `pnpm test`, `pnpm test:coverage`, and `pnpm test:e2e` execute Vitest unit suites and Playwright end-to-end projects; use targeted scripts (e.g., `pnpm test:e2e:smoke`) for focused checks.

## Coding Style & Naming Conventions
- Biome enforces LF line endings, two-space indentation, single quotes, and semicolons; always run `pnpm format` after broad edits.
- Use `camelCase` for variables and functions, `PascalCase` for exported types or classes, and kebab-case for CLI command names.
- Keep modules focused: CLI wiring stays in `cli.ts`, reusable logic in separate helpers consumed by both CLI and library exports.

## Testing Guidelines
- Place unit tests alongside sources as `*.test.ts` files inside `src/`; execute them with `pnpm exec tsx path/to/test.ts` during development and `pnpm test` before pushing.
- Snapshot or CLI output updates should be documented with example commands (`fluorite-flake greet`, `fluorite-flake status`).
- For end-to-end coverage, run the relevant Playwright project (e.g., `pnpm test:e2e:tauri`) and capture any failures in the PR description.

## Commit & Pull Request Guidelines
- Write short, present-tense commit subjects (e.g., `Add rainbow helper`), grouping unrelated work into separate commits.
- PRs must summarize changes, list validation (`pnpm lint`, `pnpm check`, `pnpm build`, targeted tests), and attach screenshots or terminal recordings for CLI updates.
- Link to issues or discussions when applicable and call out known follow-ups so reviewers can triage next steps quickly.
